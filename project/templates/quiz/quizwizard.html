{% extends "base.html" %}

{% block title %}Create Quiz and Add Questions{% endblock %}

{% block content %}
<h2>Create Quiz</h2>
<form action="{% url 'quizwizard' %}" method="post">
    {% csrf_token %}
    
    <!-- Name of the Quiz -->
    <label for="quiz_name">Name of the Quiz:</label>
    <input type="text" id="quiz_name" name="quiz_name">
    <br><br>
    
    <!-- Description of the Quiz -->
    <label for="quiz_description">Description of the Quiz:</label>
    <textarea id="quiz_description" name="quiz_description"></textarea>
    <br><br>
    
    <!-- Submit Quiz Button -->
    <input type="submit" value="Submit Quiz">
</form>

<hr>

<h2>Add Question</h2>
<form action="{% url 'add_question' %}" method="post">
    {% csrf_token %}
    
    <!-- Select Quiz -->
    <label for="quiz">Select Quiz:</label>
    <select id="quiz" name="quiz">
        {% for quiz in quizzes %}
            <option value="{{ quiz.id }}"
                {% if request.session.current_quiz_id == quiz.id %} selected {% endif %}>
                {{ quiz.title }}
            </option>
        {% endfor %}
    </select>
    <br><br>
    
    <!-- Question Text -->
    <label for="question_text">Treść pytania:</label>
    <input type="text" id="question_text" name="question_text">
    <br><br>
    
    <!-- Answers -->
    <label for="answer1">Odp. 1:</label>
    <input type="text" id="answer1" name="answer1">
    <br>
    <label for="answer2">Odp. 2:</label>
    <input type="text" id="answer2" name="answer2">
    <br>
    <label for="answer3">Odp. 3:</label>
    <input type="text" id="answer3" name="answer3">
    <br>
    <label for="answer4">Odp. 4:</label>
    <input type="text" id="answer4" name="answer4">
    <br><br>
    
    <!-- Correct Answer -->
    <label for="correct_answer">Poprawna odp. (1-4):</label>
    <input type="number" id="correct_answer" name="correct_answer" min="1" max="4">
    <br><br>
    
    <!-- Submit Question Button -->
    <input type="submit" value="Add Question">
</form>

<!-- View Previously Added Questions -->
<h3>Previously Added Questions:</h3>
{% for question in previous_questions %}
    <p>{{ question.question_text }}</p>
    <ul>
        <li>1: {{ question.answer1 }}</li>
        <li>2: {{ question.answer2 }}</li>
        <li>3: {{ question.answer3 }}</li>
        <li>4: {{ question.answer4 }}</li>
        <li>Correct Answer: {{ question.correct_answer }}</li>
    </ul>
{% empty %}
    <p>No questions added yet.</p>
{% endfor %}
<br>
{% endblock %}
